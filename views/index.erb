<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/count.css">
    <script
		    type="text/javascript"
		    src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"
    ></script>
  </head>
  <body>
    <form action="/new" method="post">
      <input type="submit" value="Create new counter">
    </form>
    <% @counters.each do |counter|%>
      <div class="counter">
        <h1 id="number<%= counter.id %>"><%= counter.number %></h1>
        <form action="/plus/<%= counter.id %>" method="post">
          <input type="submit" value="+">
        </form>
        <form action="/minus/<%= counter.id %>" method="post">
          <input type="submit" value="-">
        </form>
        <form action="/clear/<%= counter.id %>" method="post">
          <input type="submit" value="clear">
        </form>
      </div>
    <% end %>
  </body>
</html>

<script>
  window.onload = function(){
    <% @counters.each do |counter| %>
      var change_h1 = document.getElementById("number<%= counter.id %>");
      <% if counter.number % 15 == 0 && counter.number != 0 %>
        change_h1.style.color = '#2a6d39'
      <% elsif counter.number % 3 == 0 && counter.number != 0 %>
        change_h1.style.color = '#d01026'
        change_h1.style.border = '#f8b516 solid 1px'
      <% elsif counter.number.to_s.include?("3") && counter.number != 0 %>
        change_h1.style.color = '#d01026'
        change_h1.style.border = '#f8b516 solid 1px'
      <% elsif counter.number % 5 == 0 && counter.number != 0 %>
        change_h1.style.color = '#ec6c1f'
      <% else %>
        change_h1.style.color = '#edda15'
      <% end %>
    <% end %>
  }
</script>
